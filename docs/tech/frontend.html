<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端技术 | 行云流水</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="https://lubanseven.gitee.io/store/images/blog/home/logo.png">
    <script src="/baiduStatics.js"></script>
    <meta name="description" content="小白的个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.e11f952d.css" as="style"><link rel="preload" href="/assets/js/app.5a8b4ab9.js" as="script"><link rel="preload" href="/assets/js/2.5b4f9a3c.js" as="script"><link rel="preload" href="/assets/js/29.cb04aef4.js" as="script"><link rel="prefetch" href="/assets/js/10.bd043006.js"><link rel="prefetch" href="/assets/js/11.ce6df96a.js"><link rel="prefetch" href="/assets/js/12.c16eeaaa.js"><link rel="prefetch" href="/assets/js/13.ab6ed879.js"><link rel="prefetch" href="/assets/js/14.cd140140.js"><link rel="prefetch" href="/assets/js/15.52e6eb80.js"><link rel="prefetch" href="/assets/js/16.82b54901.js"><link rel="prefetch" href="/assets/js/17.977b5e69.js"><link rel="prefetch" href="/assets/js/18.44ac1dd6.js"><link rel="prefetch" href="/assets/js/19.f40b8c2a.js"><link rel="prefetch" href="/assets/js/20.33cbb5ed.js"><link rel="prefetch" href="/assets/js/21.4c710747.js"><link rel="prefetch" href="/assets/js/22.4bcb3dfd.js"><link rel="prefetch" href="/assets/js/23.e323afd4.js"><link rel="prefetch" href="/assets/js/24.58685590.js"><link rel="prefetch" href="/assets/js/25.9f3434bf.js"><link rel="prefetch" href="/assets/js/26.8f935625.js"><link rel="prefetch" href="/assets/js/27.452e169e.js"><link rel="prefetch" href="/assets/js/28.f640116d.js"><link rel="prefetch" href="/assets/js/3.76101a02.js"><link rel="prefetch" href="/assets/js/30.108894ec.js"><link rel="prefetch" href="/assets/js/31.1aebbb0a.js"><link rel="prefetch" href="/assets/js/32.bbfb2b7e.js"><link rel="prefetch" href="/assets/js/33.c3d7c005.js"><link rel="prefetch" href="/assets/js/34.119ca404.js"><link rel="prefetch" href="/assets/js/4.a45978dc.js"><link rel="prefetch" href="/assets/js/5.6e4ec3bc.js"><link rel="prefetch" href="/assets/js/6.a02a4bcc.js"><link rel="prefetch" href="/assets/js/7.427542c7.js"><link rel="prefetch" href="/assets/js/8.5e845c31.js"><link rel="prefetch" href="/assets/js/9.c501a44d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e11f952d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://lubanseven.gitee.io/store/images/blog/home/logo.png" alt="行云流水" class="logo"> <span class="site-name can-hide">行云流水</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="爱生活" class="dropdown-title"><span class="title">爱生活</span> <span class="arrow down"></span></button> <button type="button" aria-label="爱生活" class="mobile-dropdown-title"><span class="title">爱生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          日常
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/about.html" class="nav-link">
  关于我
</a></li><li class="dropdown-subitem"><a href="/life/values.html" class="nav-link">
  价值信条
</a></li><li class="dropdown-subitem"><a href="/life/daily.html" class="nav-link">
  日常记录
</a></li><li class="dropdown-subitem"><a href="/life/office.html" class="nav-link">
  日常办公
</a></li><li class="dropdown-subitem"><a href="/life/kengwang.html" class="nav-link">
  坑王驾到
</a></li></ul></li><li class="dropdown-item"><h4>
          专业
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/health.html" class="nav-link">
  医学健康
</a></li><li class="dropdown-subitem"><a href="/life/financing.html" class="nav-link">
  金融理财
</a></li><li class="dropdown-subitem"><a href="/life/law.html" class="nav-link">
  职场法律
</a></li><li class="dropdown-subitem"><a href="/life/poems.html" class="nav-link">
  诗词收藏
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="玩技术" class="dropdown-title"><span class="title">玩技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="玩技术" class="mobile-dropdown-title"><span class="title">玩技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tech/styles.html" class="nav-link">
  样式技巧
</a></li><li class="dropdown-subitem"><a href="/tech/frontend.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  前端技术
</a></li><li class="dropdown-subitem"><a href="/tech/backend.html" class="nav-link">
  后端技术
</a></li><li class="dropdown-subitem"><a href="/tech/vueTech.html" class="nav-link">
  Vue专场
</a></li><li class="dropdown-subitem"><a href="/tech/deploy.html" class="nav-link">
  网站部署
</a></li></ul></li><li class="dropdown-item"><h4>
          资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tech/projects.html" class="nav-link">
  开源项目
</a></li><li class="dropdown-subitem"><a href="/tech/recommend.html" class="nav-link">
  实用网站
</a></li><li class="dropdown-subitem"><a href="/tech/gpt.html" class="nav-link">
  Free GPT
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="摄影集" class="dropdown-title"><span class="title">摄影集</span> <span class="arrow down"></span></button> <button type="button" aria-label="摄影集" class="mobile-dropdown-title"><span class="title">摄影集</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/album/free.html" class="nav-link">
  日常随拍
</a></li><li class="dropdown-item"><!----> <a href="/album/streetscape.html" class="nav-link">
  都市街景
</a></li><li class="dropdown-item"><!----> <a href="/album/nature.html" class="nav-link">
  自然风光
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="超链接" class="dropdown-title"><span class="title">超链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="超链接" class="mobile-dropdown-title"><span class="title">超链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.libvio.fun/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  影视资源
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/lubanseven/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客模板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/theme/default-theme-config.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主题配置
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://pandao.github.io/editor.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  编辑工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/contact/" class="nav-link">
  联系我
</a></div><div class="nav-item"><a href="https://github.com/JasonBai007" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="爱生活" class="dropdown-title"><span class="title">爱生活</span> <span class="arrow down"></span></button> <button type="button" aria-label="爱生活" class="mobile-dropdown-title"><span class="title">爱生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          日常
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/about.html" class="nav-link">
  关于我
</a></li><li class="dropdown-subitem"><a href="/life/values.html" class="nav-link">
  价值信条
</a></li><li class="dropdown-subitem"><a href="/life/daily.html" class="nav-link">
  日常记录
</a></li><li class="dropdown-subitem"><a href="/life/office.html" class="nav-link">
  日常办公
</a></li><li class="dropdown-subitem"><a href="/life/kengwang.html" class="nav-link">
  坑王驾到
</a></li></ul></li><li class="dropdown-item"><h4>
          专业
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/health.html" class="nav-link">
  医学健康
</a></li><li class="dropdown-subitem"><a href="/life/financing.html" class="nav-link">
  金融理财
</a></li><li class="dropdown-subitem"><a href="/life/law.html" class="nav-link">
  职场法律
</a></li><li class="dropdown-subitem"><a href="/life/poems.html" class="nav-link">
  诗词收藏
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="玩技术" class="dropdown-title"><span class="title">玩技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="玩技术" class="mobile-dropdown-title"><span class="title">玩技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tech/styles.html" class="nav-link">
  样式技巧
</a></li><li class="dropdown-subitem"><a href="/tech/frontend.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  前端技术
</a></li><li class="dropdown-subitem"><a href="/tech/backend.html" class="nav-link">
  后端技术
</a></li><li class="dropdown-subitem"><a href="/tech/vueTech.html" class="nav-link">
  Vue专场
</a></li><li class="dropdown-subitem"><a href="/tech/deploy.html" class="nav-link">
  网站部署
</a></li></ul></li><li class="dropdown-item"><h4>
          资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tech/projects.html" class="nav-link">
  开源项目
</a></li><li class="dropdown-subitem"><a href="/tech/recommend.html" class="nav-link">
  实用网站
</a></li><li class="dropdown-subitem"><a href="/tech/gpt.html" class="nav-link">
  Free GPT
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="摄影集" class="dropdown-title"><span class="title">摄影集</span> <span class="arrow down"></span></button> <button type="button" aria-label="摄影集" class="mobile-dropdown-title"><span class="title">摄影集</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/album/free.html" class="nav-link">
  日常随拍
</a></li><li class="dropdown-item"><!----> <a href="/album/streetscape.html" class="nav-link">
  都市街景
</a></li><li class="dropdown-item"><!----> <a href="/album/nature.html" class="nav-link">
  自然风光
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="超链接" class="dropdown-title"><span class="title">超链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="超链接" class="mobile-dropdown-title"><span class="title">超链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.libvio.fun/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  影视资源
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/lubanseven/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客模板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/theme/default-theme-config.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主题配置
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://pandao.github.io/editor.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  编辑工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/contact/" class="nav-link">
  联系我
</a></div><div class="nav-item"><a href="https://github.com/JasonBai007" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/frontend.html#深拷贝的另一种选择" class="sidebar-link">深拷贝的另一种选择</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#省市区数据" class="sidebar-link">省市区数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#replace-高级用法" class="sidebar-link">replace 高级用法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#前端下载文件流" class="sidebar-link">前端下载文件流</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#自己关闭自己" class="sidebar-link">自己关闭自己</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#自己删除自己" class="sidebar-link">自己删除自己</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#前端-base64-转换" class="sidebar-link">前端 base64 转换</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#复制内容的两种方法" class="sidebar-link">复制内容的两种方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#将文件变成内存地址-实现本地预览" class="sidebar-link">将文件变成内存地址，实现本地预览</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#object-标签的父子窗口通信" class="sidebar-link">object 标签的父子窗口通信</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#遥控隔壁标签页刷新" class="sidebar-link">遥控隔壁标签页刷新</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#正则匹配-script-标签" class="sidebar-link">正则匹配 script 标签</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#数组随机排序" class="sidebar-link">数组随机排序</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#生成随机颜色" class="sidebar-link">生成随机颜色</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#滚动到顶部-底部" class="sidebar-link">滚动到顶部/底部</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#获取-url-中的参数" class="sidebar-link">获取 url 中的参数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#使用原生-fetch-请求数据" class="sidebar-link">使用原生 fetch 请求数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#dom-节点转数组" class="sidebar-link">DOM 节点转数组</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#前端换肤的方案探索" class="sidebar-link">前端换肤的方案探索</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#js-拦截-ctrl-s-事件" class="sidebar-link">JS 拦截 Ctrl+S 事件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#循环中调用异步函数" class="sidebar-link">循环中调用异步函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#sleep-函数的两种实现方式" class="sidebar-link">sleep 函数的两种实现方式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#生成随机字符串" class="sidebar-link">生成随机字符串</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#获取数组最后一个值" class="sidebar-link">获取数组最后一个值</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#reduce-方法使用示例" class="sidebar-link">reduce 方法使用示例</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#控制台获取上次执行结果" class="sidebar-link">控制台获取上次执行结果</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#移动端调试" class="sidebar-link">移动端调试</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#让你的网页飘花瓣" class="sidebar-link">让你的网页飘花瓣</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tech/frontend.html#npm-不常用操作" class="sidebar-link">Npm 不常用操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/frontend.html#批量升级项目依赖包" class="sidebar-link">批量升级项目依赖包</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#清空-npm-缓存" class="sidebar-link">清空 npm 缓存</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#更改-npm-镜像源" class="sidebar-link">更改 npm 镜像源</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#查看模块版本列表" class="sidebar-link">查看模块版本列表</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#安装-node-sass-模块" class="sidebar-link">安装 node-sass 模块</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#设置-electron-镜像源" class="sidebar-link">设置 electron 镜像源</a></li></ul></li><li><a href="/tech/frontend.html#git-不常用操作" class="sidebar-link">Git 不常用操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/frontend.html#临时缓存本地修改的文件" class="sidebar-link">临时缓存本地修改的文件</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#撤销-反做-以前的某次提交记录" class="sidebar-link">撤销（反做）以前的某次提交记录</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#版本回退到某次提交记录" class="sidebar-link">版本回退到某次提交记录</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#挑选别的分支中的某次提交到当前分支" class="sidebar-link">挑选别的分支中的某次提交到当前分支</a></li><li class="sidebar-sub-header"><a href="/tech/frontend.html#提交日志筛选" class="sidebar-link">提交日志筛选</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前端技术"><a href="#前端技术" class="header-anchor">#</a> 前端技术</h1> <div class="custom-block tip"><p class="custom-block-title">前言</p> <p>工欲善其事，必先利其器</p></div> <h2 id="深拷贝的另一种选择"><a href="#深拷贝的另一种选择" class="header-anchor">#</a> 深拷贝的另一种选择</h2> <p>简单易用的深拷贝方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> clone <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>另外一种原生方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> clone <span class="token operator">=</span> <span class="token function">structuredClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="省市区数据"><a href="#省市区数据" class="header-anchor">#</a> 省市区数据</h2> <p>已汇总到我的 Gitee 代码仓库 <a href="https://gitee.com/lubanseven/area" target="_blank" rel="noopener noreferrer">area<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的 dist 文件夹</p> <ul><li><p>原始数据来自 <a href="https://github.com/modood/Administrative-divisions-of-China" target="_blank" rel="noopener noreferrer">Administrative-divisions-of-China<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>港澳台数据来自 <a href="https://github.com/wu-jianyong/ChinaProvinceCityJsonData" target="_blank" rel="noopener noreferrer">ChinaProvinceCityJsonData<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>移动端级联选择器 <a href="https://www.npmjs.com/package/vue-pickers" target="_blank" rel="noopener noreferrer">vue-pickers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="replace-高级用法"><a href="#replace-高级用法" class="header-anchor">#</a> replace 高级用法</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;aaabbbcccddd&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// match是当前匹配的子串，</span>
<span class="token comment">// $1是指第1个括号匹配的字符串，</span>
<span class="token comment">// 以此类推，参数还有$2,$3...，如果正则表达式里有多个小括号</span>
<span class="token keyword">let</span> newStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w{3})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> $1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> $1 <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="前端下载文件流"><a href="#前端下载文件流" class="header-anchor">#</a> 前端下载文件流</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;downloadUrl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 在内存中创建一个下载链接</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  link<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
  link<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span>
  link<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;download&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;文件名.xlsx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
  link<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="自己关闭自己"><a href="#自己关闭自己" class="header-anchor">#</a> 自己关闭自己</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 这个方法只能关闭由 JavaScript 打开的窗口。</span>
<span class="token comment">// 如果当前页面是由用户手动打开的或者是浏览器的默认首页，那么这个方法将无效。</span>
window<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 以下方法不好使！不用再试了！</span>
<span class="token comment">// window.open(&quot;about:blank&quot;, &quot;_self&quot;).close();</span>
</code></pre></div><h2 id="自己删除自己"><a href="#自己删除自己" class="header-anchor">#</a> 自己删除自己</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myElement&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方法一：通过父节点删除自身</span>
element<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方式二：直接删除</span>
element<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="前端-base64-转换"><a href="#前端-base64-转换" class="header-anchor">#</a> 前端 base64 转换</h2> <p>base64 的转化是<code>双向的</code>，md5 是<code>单向的</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> base64Str <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">btoa</span><span class="token punctuation">(</span><span class="token string">&quot;good luck&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Z29vZCBsdWNr</span>
<span class="token keyword">let</span> originStr <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">atob</span><span class="token punctuation">(</span><span class="token string">&quot;Z29vZCBsdWNr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// good luck</span>

<span class="token comment">// 兼容中文的base64转换</span>
<span class="token keyword">let</span> base64Str <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">btoa</span><span class="token punctuation">(</span><span class="token function">unescape</span><span class="token punctuation">(</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> originStr <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span><span class="token function">escape</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">atob</span><span class="token punctuation">(</span><span class="token string">&quot;5L2g5aW9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="复制内容的两种方法"><a href="#复制内容的两种方法" class="header-anchor">#</a> 复制内容的两种方法</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>clipboard 仅能在 https 协议或 localhost 下使用！</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 推荐方式</span>
navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">writeText</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Friday&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;复制成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 传统方式</span>
<span class="token keyword">function</span> <span class="token function">copyText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span>value <span class="token operator">=</span> text<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">&quot;copy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;复制成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="将文件变成内存地址-实现本地预览"><a href="#将文件变成内存地址-实现本地预览" class="header-anchor">#</a> 将文件变成内存地址，实现本地预览</h2> <blockquote><ul><li>createObjectURL 返回一段带 hash 的 url，并且一直存储在内存中，直到 document 触发了 unload 事件（例如：document close）或者执行 revokeObjectURL 来释放。</li> <li>FileReader.readAsDataURL 则返回包含很多字符的 base64，并会比 blob url 消耗更多内存，但是在不用的时候会自动从内存中清除（通过垃圾回收机制）</li> <li>使用 createObjectURL 可以节省性能并更快速，只不过需要在不使用的情况下手动释放内存</li> <li>如果不太在意设备性能问题，并想获取图片的 base64，则推荐使用 FileReader.readAsDataURL</li></ul></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 首先通过饿了么upload组件，取消自动上传，上传文件，change方法里拿到file对象</span>

<span class="token comment">// 通过URL.createObjectURL(blob)可以获取当前文件的一个内存URL，并且是同步的</span>
<span class="token keyword">let</span> _url <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>raw<span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span>url <span class="token operator">=</span> _url<span class="token punctuation">;</span>
</code></pre></div><h2 id="object-标签的父子窗口通信"><a href="#object-标签的父子窗口通信" class="header-anchor">#</a> object 标签的父子窗口通信</h2> <p>借助<code>postMessage()</code>方法，我们可以实现 object 或 iframe 与父级窗口之间的通信。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 父级窗口中使用&lt;object&gt;标签引入子级窗口 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 子级窗口 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span>
    <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://127.0.0.1:5501/index.html<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>childWin<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 监听子窗口传递过来的数据</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;I am from Children: &quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 向子窗口发送数据</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 获取到子窗口的window对象</span>
      document
        <span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#childWin&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Hello from Father&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>window.parent 获取上一级的窗口<br>
window.top 获取最顶级的窗口</p></div> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 子级窗口 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>child page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 在子窗口中监听从父级中传过来的数据</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 向父级窗口中发送数据</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 通过window.parent获得父级窗口的window对象</span>
      window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Hi from Children&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="遥控隔壁标签页刷新"><a href="#遥控隔壁标签页刷新" class="header-anchor">#</a> 遥控隔壁标签页刷新</h2> <p>在页面 A 中，打开页面 B，借助<code>postMessage()</code>控制页面 B 刷新</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 页面A</span>
<span class="token keyword">let</span> opener <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>pageBUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
opener<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&quot;refreshPage&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 页面B，在打开的瞬间监听message事件</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>data <span class="token operator">===</span> <span class="token string">&quot;refreshPage&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="正则匹配-script-标签"><a href="#正则匹配-script-标签" class="header-anchor">#</a> 正则匹配 script 标签</h2> <ul><li><code>.</code>匹配除换行符以外的字符</li> <li><code>(.|\n)*</code>表示匹配任意数量的任意字符</li> <li>量词*后面的<code>?</code>，表示非贪婪匹配</li> <li><code>[^&gt;]</code>表示除&gt;意外的任意字符</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div id=&quot;myPage&quot;&gt;
  {{ message }}
&lt;/div&gt;

&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.0/vue.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  var app = new Vue({
    el: '#myPage',
    data: {
      message: 'Hello Free Page!'
    }
  })
&lt;/script&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;script[^&gt;]*&gt;(.|\n)*?&lt;\/script&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="数组随机排序"><a href="#数组随机排序" class="header-anchor">#</a> 数组随机排序</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">randomArr</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="生成随机颜色"><a href="#生成随机颜色" class="header-anchor">#</a> 生成随机颜色</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getRandomColor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><h2 id="滚动到顶部-底部"><a href="#滚动到顶部-底部" class="header-anchor">#</a> 滚动到顶部/底部</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 整个页面滚动到顶部</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&quot;smooth&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token string">&quot;start&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 整个页面滚动到底部</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&quot;smooth&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token string">&quot;end&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="获取-url-中的参数"><a href="#获取-url-中的参数" class="header-anchor">#</a> 获取 url 中的参数</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在地址栏里拿到 '?someKey=someValue'</span>
<span class="token keyword">let</span> queryStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">.</span>search<span class="token punctuation">;</span>
<span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>queryStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取其中一个参数</span>
params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 显示键/值对</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> pair <span class="token keyword">of</span> params<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pair<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> pair<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="使用原生-fetch-请求数据"><a href="#使用原生-fetch-请求数据" class="header-anchor">#</a> 使用原生 fetch 请求数据</h2> <p>借助<code>fetch</code>，我们可以摆脱对<code>axios</code>的依赖</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;http://example.com/movies.json&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>一个更全面的示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// fetch(url,options) 返回promise对象</span>
<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token comment">// *GET, POST, PUT, DELETE, etc.</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'cors'</span><span class="token punctuation">,</span> <span class="token comment">// no-cors, *cors, same-origin</span>
    <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token string">'no-cache'</span><span class="token punctuation">,</span> <span class="token comment">// *default, no-cache, reload, force-cache, only-if-cached</span>
    <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">'same-origin'</span><span class="token punctuation">,</span> <span class="token comment">// include, *same-origin, omit</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">referrerPolicy</span><span class="token operator">:</span> <span class="token string">'no-referrer'</span><span class="token punctuation">,</span> <span class="token comment">// no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// body data type must match &quot;Content-Type&quot; header</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="dom-节点转数组"><a href="#dom-节点转数组" class="header-anchor">#</a> DOM 节点转数组</h2> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token comment">// 获取节点集合</span>
<span class="token keyword">let</span> domCollection <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 将集合转为数组</span>
<span class="token keyword">let</span> domArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>domCollection<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这样就可以遍历这些节点了</span>
domArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="前端换肤的方案探索"><a href="#前端换肤的方案探索" class="header-anchor">#</a> 前端换肤的方案探索</h2> <p>关于前端换肤，有两种需求场景：</p> <ol><li>只可以切换<strong>固定几套</strong>主题色</li> <li>用户可以<strong>随便选择色值</strong>，更改主题色</li></ol> <p>可以参考掘金上的这篇文章：<a href="https://juejin.cn/post/7134594122391748615" target="_blank" rel="noopener noreferrer">前端主题切换方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>针对<strong>第二种场景</strong>，自由换肤，可以参考我的个人开源项目：<a href="https://github.com/JasonBai007/theme-starter" target="_blank" rel="noopener noreferrer">theme-starter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的 README</p> <h2 id="js-拦截-ctrl-s-事件"><a href="#js-拦截-ctrl-s-事件" class="header-anchor">#</a> JS 拦截 Ctrl+S 事件</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//js监听键盘ctrl+s快捷键保存</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keydown&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断：S键被按下，并且之前也按下了Ctrl键</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>
    e<span class="token punctuation">.</span>keyCode <span class="token operator">==</span> <span class="token number">83</span> <span class="token operator">&amp;&amp;</span>
    <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>platform<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">&quot;Mac&quot;</span><span class="token punctuation">)</span> <span class="token operator">?</span> e<span class="token punctuation">.</span>metaKey <span class="token operator">:</span> e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;saved&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="循环中调用异步函数"><a href="#循环中调用异步函数" class="header-anchor">#</a> 循环中调用异步函数</h2> <ol><li>需要使用朴实无华的 for 循环和 async 新秀</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// for循环放到async函数内</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">func</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="sleep-函数的两种实现方式"><a href="#sleep-函数的两种实现方式" class="header-anchor">#</a> sleep 函数的两种实现方式</h2> <ol><li>页面可以正常操作，渲染，不会卡死！</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 异步版，返回一个promise，在指定时间后resolve</span>
<span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用示例：需要在async函数中使用</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>注意：页面直接卡死！！！</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 同步版，借助while循环实现线程阻塞</span>
<span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start <span class="token operator">&lt;</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">continue</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 使用示例：</span>
<span class="token keyword">function</span> <span class="token function">testSleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">testSleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="生成随机字符串"><a href="#生成随机字符串" class="header-anchor">#</a> 生成随机字符串</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="获取数组最后一个值"><a href="#获取数组最后一个值" class="header-anchor">#</a> 获取数组最后一个值</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// IE浏览器和安卓的Opera不支持！但是Edge浏览器支持</span>
array<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 传统方法</span>
array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="reduce-方法使用示例"><a href="#reduce-方法使用示例" class="header-anchor">#</a> reduce 方法使用示例</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// array.reduce(累加函数，初始值)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> cur<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>

<span class="token comment">// 1个元素</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> cur<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token comment">// 0个元素时，必须传入初始值</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> cur<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">// 复杂示例：pre不加.val，cur加</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> cur<span class="token punctuation">.</span>val<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
</code></pre></div><h2 id="控制台获取上次执行结果"><a href="#控制台获取上次执行结果" class="header-anchor">#</a> 控制台获取上次执行结果</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>

$_ <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">// 20</span>
</code></pre></div><h2 id="移动端调试"><a href="#移动端调试" class="header-anchor">#</a> 移动端调试</h2> <ol><li>手机与电脑连接同一个 wifi，表示在同一局域网下</li> <li>通过 ipconfig 查看电脑本机 ipv4 地址 （xxx.xxx.xx.xxx）</li> <li>设置开发环境的 host 为 4 个 0，表示访问你电脑上的任何一个 Ip，都能访问的到你的前端服务</li> <li>在手机上访问 xxx.xxx.xx.xxx:port，直接访问正在开发的页面</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 表示前端服务在所有本机IP上监听</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="让你的网页飘花瓣"><a href="#让你的网页飘花瓣" class="header-anchor">#</a> 让你的网页飘花瓣</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 直接引入 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/gh/yremp/yremp-js@1.5/sakura.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 动态引入 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> _js <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  _js<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;https://cdn.jsdelivr.net/gh/yremp/yremp-js@1.5/sakura.js&quot;</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>_js<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="npm-不常用操作"><a href="#npm-不常用操作" class="header-anchor">#</a> Npm 不常用操作</h2> <h3 id="批量升级项目依赖包"><a href="#批量升级项目依赖包" class="header-anchor">#</a> 批量升级项目依赖包</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 首先，全局安装 npm-check-updates</span>
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> npm-check-updates

<span class="token comment"># 检查所有依赖的版本</span>
ncu

<span class="token comment"># 一键更新所有依赖</span>
ncu <span class="token parameter variable">-u</span>

<span class="token comment"># 单独升级vue</span>
ncu
</code></pre></div><h3 id="清空-npm-缓存"><a href="#清空-npm-缓存" class="header-anchor">#</a> 清空 npm 缓存</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> cache clean <span class="token parameter variable">-f</span>
</code></pre></div><h3 id="更改-npm-镜像源"><a href="#更改-npm-镜像源" class="header-anchor">#</a> 更改 npm 镜像源</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 安装依赖时，临时使用淘宝镜像源【非常有用】</span>
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--registry</span> https://registry.npm.taobao.org
<span class="token comment"># 改成淘宝镜像源</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org
<span class="token comment"># 改回官方镜像源</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org
</code></pre></div><h3 id="查看模块版本列表"><a href="#查看模块版本列表" class="header-anchor">#</a> 查看模块版本列表</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 查看版本列表</span>
<span class="token function">npm</span> view vue versions
<span class="token comment"># 查看某个模块的信息</span>
<span class="token function">npm</span> view vue
</code></pre></div><h3 id="安装-node-sass-模块"><a href="#安装-node-sass-模块" class="header-anchor">#</a> 安装 node-sass 模块</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 因为 node-sass 模块被墙掉了</span>
<span class="token function">npm</span> i node-sass <span class="token parameter variable">--sass_binary_site</span><span class="token operator">=</span>https://npm.taobao.org/mirrors/node-sass/
<span class="token comment"># 再安装别的依赖</span>
<span class="token function">npm</span> i
</code></pre></div><h3 id="设置-electron-镜像源"><a href="#设置-electron-镜像源" class="header-anchor">#</a> 设置 electron 镜像源</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># npm</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> electron_mirror https://npm.taobao.org/mirrors/electron/
<span class="token comment"># yarn</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> electron_mirror https://npm.taobao.org/mirrors/electron/
</code></pre></div><h2 id="git-不常用操作"><a href="#git-不常用操作" class="header-anchor">#</a> Git 不常用操作</h2> <h3 id="临时缓存本地修改的文件"><a href="#临时缓存本地修改的文件" class="header-anchor">#</a> 临时缓存本地修改的文件</h3> <p>本地文件修改了一半儿，要切到别的分支修改代码。这时候可以：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 缓存开发了一半儿的本地文件，-u是指包括新建的文件</span>
<span class="token function">git</span> stash <span class="token parameter variable">-u</span>
<span class="token comment"># 分支切换回来后，再弹出缓存的文件到工作区</span>
<span class="token function">git</span> stash pop
</code></pre></div><h3 id="撤销-反做-以前的某次提交记录"><a href="#撤销-反做-以前的某次提交记录" class="header-anchor">#</a> 撤销（反做）以前的某次提交记录</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 撤销以前的某次提交&lt;HashA&gt;，反做某次提交&lt;HashA&gt;</span>
<span class="token function">git</span> revert <span class="token operator">&lt;</span>HashA<span class="token operator">&gt;</span>
<span class="token comment"># 提交</span>
<span class="token function">git</span> push
</code></pre></div><h3 id="版本回退到某次提交记录"><a href="#版本回退到某次提交记录" class="header-anchor">#</a> 版本回退到某次提交记录</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 版本回退到某次提交&lt;HashA&gt;</span>
<span class="token function">git</span> reset <span class="token parameter variable">--hard</span> <span class="token operator">&lt;</span>HashA<span class="token operator">&gt;</span>
<span class="token comment"># 强制提交，远程仓库的&lt;HashA&gt;之后的几次提交记录就消失了</span>
<span class="token function">git</span> push <span class="token parameter variable">-f</span>
</code></pre></div><h3 id="挑选别的分支中的某次提交到当前分支"><a href="#挑选别的分支中的某次提交到当前分支" class="header-anchor">#</a> 挑选别的分支中的某次提交到当前分支</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 首先，切换到master分支</span>
<span class="token function">git</span> checkout master

<span class="token comment"># 挑选dev分支上的&lt;HashA&gt;，到master分支上</span>
<span class="token function">git</span> cherry-pick <span class="token operator">&lt;</span>HashA<span class="token operator">&gt;</span>

<span class="token comment"># 挑选多个提交到master</span>
<span class="token function">git</span> cherry-pick <span class="token operator">&lt;</span>HashA<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>HashB<span class="token operator">&gt;</span>

<span class="token comment"># 如果要摘取的提交是个合并节点，需要添加m参数，值设为1</span>
<span class="token comment"># 通常1号父分支是接受变动的分支，2号父分支是作为变动来源的分支</span>
<span class="token function">git</span> cherry-pick <span class="token parameter variable">-m</span> <span class="token number">1</span> <span class="token operator">&lt;</span>HashA<span class="token operator">&gt;</span>

<span class="token comment"># 在提交信息的末尾追加一行(cherry picked from commit ...)，方便以后查到这个提交是如何产生的。</span>
<span class="token function">git</span> cherry-pick <span class="token parameter variable">-x</span> <span class="token operator">&lt;</span>HashA<span class="token operator">&gt;</span>

<span class="token comment"># 撤销最近一次cherry-pick操作</span>
<span class="token function">git</span> cherry-pick <span class="token parameter variable">--abort</span>
</code></pre></div><h3 id="提交日志筛选"><a href="#提交日志筛选" class="header-anchor">#</a> 提交日志筛选</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 筛选出作者是Jason，3月1日之后的提交记录</span>
<span class="token function">git</span> log <span class="token parameter variable">--oneline</span> <span class="token parameter variable">--author</span><span class="token operator">=</span><span class="token string">&quot;Jason&quot;</span> <span class="token parameter variable">--since</span><span class="token operator">=</span><span class="token number">2023</span>-03-01

<span class="token comment"># 筛选出3月1日之后的提交记录，过滤掉merge记录，并设置格式为：hash值;提交title;作者;绝对时间</span>
<span class="token comment"># 例如：92c64cc7d;fix: 解决/和查询字符串的各种场景;Jason Bai;Wed Apr 26 11:51:03 2023 +0800</span>
<span class="token function">git</span> log <span class="token parameter variable">--oneline</span> --no-merges <span class="token parameter variable">--since</span><span class="token operator">=</span><span class="token number">2023</span>-03-01 <span class="token parameter variable">--pretty</span><span class="token operator">=</span>format:<span class="token string">&quot;%h;%s;%an;%ad&quot;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/12/2023, 9:23:02 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      欢迎来到 行云流水
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div></div></div>
    <script src="/assets/js/app.5a8b4ab9.js" defer></script><script src="/assets/js/2.5b4f9a3c.js" defer></script><script src="/assets/js/29.cb04aef4.js" defer></script>
  </body>
</html>
